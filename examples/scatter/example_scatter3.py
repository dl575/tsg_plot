import sys
sys.path.extend(['../..'])
import tsg_plot
opts = tsg_plot.PlotOptions()

#-------------------------------------------------------------------------
# common options
#-------------------------------------------------------------------------

attribute_dict = \
{'bar_width': 0.7,

 'colors': [
  '#000000',
  '#ef3b2c',
  '#253494'
  ],

 'fig': None,
 'figsize': (8, 2),
 'file_name': '',
 'fontsize': 8,
 'labels': [[ ['m-bintree',
               'm-dynprog',
               'm-heapsort',
               'm-huffman',
               'm-kmeans',],
              ['m-bintree',
               'm-dynprog',
               'm-heapsort',
               'm-huffman',
               'm-kmeans',]],
            ['', 'specialized', 'adaptive']],

 'labels_fontsize': 8,
 'labels_enabled': False,
 'legend_bbox': (0.0, 0.95, 1.0, 0.1),
 'legend_ncol': 5,
 'normalize_line': (1, 1, (0.,0.,4.,4.) ),
 'rotate_labels': True,
 'rotate_labels_angle': -45,
 'plot_type' : 'scatter',
 'scatter_bar_arrow': True,
 'scatter_bar_arrow_minlen': 0.2,
 'show': False,
 'symbols': ['s', 'o', 'd', '^', 's', 'p', '*', 'x'],
 'xlabel': '',
 'ylabel': 'Normalized Energy Efficiency',
 'yrange': (0.5, 3.5),
 'xrange': None
 }
for name, value in attribute_dict.iteritems():
  setattr( opts, name, value )

#-------------------------------------------------------------------------
# plot 1
#-------------------------------------------------------------------------



opts.data = \
         [[ [1., 1.], ],
#     performance,  energy efficiency

[

 [3.2303055361, 1.06425407095,],    #bfs
 [1.51901734071, 0.918752738566,],    #bintree
 [2.44026166391, 1.06833833892,],    #covariance
 [1.49298622527, 0.953482171585,],    #dither-r
#[2.42199815, 0.968418635604,],    #dither-r-opt
#[3.19556245793, 0.90571920953,],    #dither-u
 [1.30785605444, 0.937799736398,],    #dynprog
 [1.95260966317, 0.899923323923,],    #heapsort
 [1.60161243885, 0.862033943298,],    #huffman
 [3.36244473044, 0.947790054297,],    #kmeans
#[3.75437767674, 0.983400167179,],    #kmeans-opt
 [3.95714401113, 0.89437702969,],    #knapsack-large
 [3.51273794697, 0.858298542946,],    #knapsack-small
 [1.23543066315, 0.964852779921,],    #mibench-adpcmdec
#[1.9390127356, 0.97607730543,],    #mibench-adpcmdec-opt
 [1.55219894403, 0.97068201217,],    #pbbs-knn
 [3.10953836088, 0.852427601703,],    #pbbs-mm
#[2.20154552752, 0.953879832245,],    #quicksort-split
 [2.7401772368, 0.963507835836,],    #quicksort-unified
 [3.12911052897, 0.977969634393,],    #rgb2cmyk
 [2.81803877452, 0.844753846527,],    #rsort
#[2.66911001358, 1.00133274482,],    #rsort-opt
 [4.03346020853, 1.02369011183,],    #sgemm
 [1.1703571544, 0.9569517988,],    #sha
#[1.55297090106, 0.976390790774,],    #sha-opt
 [1.02643608599, 0.894843225382,],    #stencil
 [3.9312720735, 0.983453183289,],    #strsearch
 [2.58347609198, 0.96701518661,],    #symm-r
 [3.38408514232, 0.969524982142,],    #symm-u
 [2.46278432178, 1.00804873654,],    #viterbi
 [1.09500034389, 0.846371486459,],    #warshall-m
 [3.33436898375, 0.958789532104,],    #warshall-u

],]


opts.num_cols = 3
opts.num_rows = 1
opts.plot_idx = 1
opts.xlabel = u'\u0085' + "\n(a) io+x"
opts.xrange = (0.5, 4.5)

opts.legend_enabled = False

tsg_plot.add_plot( opts )

#-------------------------------------------------------------------------
# plot 2
#-------------------------------------------------------------------------

# set data for plot 2 here
opts.data = \
         [[ [1., 1.], ],
#     performance,  energy efficiency

[

   [2.30006419307, 1.89550779025,],    #bfs
   [1.07379245264, 1.78079340757,],    #bintree
   [1.30812745222, 1.72423933282,],    #covariance
   [0.906620373147, 1.51463876153,],    #dither-r
 # [1.47306845845, 1.52968268512,],    #dither-r-opt
 # [1.97760645497, 1.42257062386,],    #dither-u
   [0.739118090894, 1.65348093944,],    #dynprog
   [1.28537851401, 1.51650286306,],    #heapsort
   [1.11515738608, 1.27619061825,],    #huffman
   [1.65886163861, 1.48208938132,],    #kmeans
 # [1.86915297974, 1.52657420118,],    #kmeans-opt
   [2.19592591075, 1.58562501243,],    #knapsack-large
   [2.21410138719, 1.49373260421,],    #knapsack-small
   [0.875591277374, 1.72416691405,],    #mibench-adpcmdec
 # [1.37429549771, 1.73269882589,],    #mibench-adpcmdec-opt
   [1.46937499175, 1.34211542488,],    #pbbs-knn
   [2.72147843088, 1.88145138557,],    #pbbs-mm
 # [2.02279240175, 2.0166496133,],    #quicksort-split
   [2.52022068042, 2.03680088393,],    #quicksort-unified
   [2.24072731413, 1.56830997729,],    #rgb2cmyk
   [1.80881992764, 1.36592515345,],    #rsort
 # [1.780799792, 1.54100898291,],    #rsort-opt
   [2.28972240307, 1.58754257497,],    #sgemm
   [0.813587405531, 1.24977698399,],    #sha
 # [1.1285764379, 1.25984457044,],    #sha-opt
   [0.670417625694, 1.31338958367,],    #stencil
   [2.65252164391, 1.61189314325,],    #strsearch
   [1.71503077824, 1.60548104069,],    #symm-r
   [1.97814757173, 1.68671785651,],    #symm-u
   [2.0100525726, 1.57789036034,],    #viterbi
   [0.633140716875, 1.40524272832,],    #warshall-m
   [1.91746993098, 1.56435212246,],    #warshall-u



],
[

   [1.93988319113, 1.82894360384,],    #bfs
   [1.04085442315, 1.10454370409,],    #bintree
   [1.27410260408, 1.67624513272,],    #covariance
   [1.07114868911, 0.99567889467,],    #dither-r
 # [1.47231264406, 1.52858665368,],    #dither-r-opt
 # [1.97449954318, 1.42106080031,],    #dither-u
   [0.994350918681, 0.992709189599,],    #dynprog
   [1.02547337344, 1.04315198105,],    #heapsort
   [1.19837599, 1.13479100425,],    #huffman
   [1.60616755775, 1.35086638549,],    #kmeans
 # [1.82314089651, 1.50476434674,],    #kmeans-opt
   [2.03855066885, 1.52725814598,],    #knapsack-large
   [2.11503717596, 1.46268783641,],    #knapsack-small
   [0.997802780753, 1.01433147019,],    #mibench-adpcmdec
 # [1.37240805284, 1.72943068379,],    #mibench-adpcmdec-opt
   [1.45837277322, 1.33262167096,],    #pbbs-knn
   [2.43563067419, 1.72987095512,],    #pbbs-mm
 # [2.05829524432, 1.85728804821,],    #quicksort-split
   [2.4557902728, 1.79997461794,],    #quicksort-unified
   [2.18039969552, 1.54575860428,],    #rgb2cmyk
   [1.77940697208, 1.35597457573,],    #rsort
 # [1.63704163693, 1.47643155799,],    #rsort-opt
   [2.03055480708, 1.52549300037,],    #sgemm
   [0.940297751636, 1.08246868319,],    #sha
 # [1.0318049199, 1.10084941905,],    #sha-opt
   [1.00209063572, 0.994196139193,],    #stencil
   [2.55802245851, 1.57472820329,],    #strsearch
   [1.70793609253, 1.59778108668,],    #symm-r
   [1.95852473217, 1.67505145668,],    #symm-u
   [2.00773595682, 1.57664310042,],    #viterbi
   [0.989868933412, 0.9955367433,],    #warshall-m
   [1.90331670975, 1.55682590668,],    #warshall-u


],]

opts.plot_idx = 2
opts.ylabel = ""
opts.xlabel = "Normalized Performance\n(b) ooo/2+x"
opts.share_axis = 2
opts.xrange = (0.5, 3.)

opts.legend_enabled = True

tsg_plot.add_plot( opts )

#-------------------------------------------------------------------------
# plot 3
#-------------------------------------------------------------------------

# set data for plot 3 here
opts.data = \
         [[ [1., 1.], ],
#     performance,  energy efficiency

[

   [1.68098548722, 2.9595387909,],    #bfs
   [1.0599025015, 2.68939009028,],    #bintree
   [0.800234931638, 1.99304443406,],    #covariance
   [0.581732100528, 1.99166346084,],    #dither-r
 # [0.947226426029, 2.02980043912,],    #dither-r-opt
 # [1.28379703518, 1.87831734856,],    #dither-u
   [0.371358545826, 2.19826547996,],    #dynprog
   [1.02792231178, 2.12395025955,],    #heapsort
   [0.752847006507, 1.49069979676,],    #huffman
   [0.998452605398, 1.85970642662,],    #kmeans
 # [1.12818902377, 1.89420472617,],    #kmeans-opt
   [1.47390581642, 2.14643507671,],    #knapsack-large
   [1.353819004, 1.99681463407,],    #knapsack-small
   [0.583312348214, 2.65500338861,],    #mibench-adpcmdec
 # [0.915559874017, 2.66783004298,],    #mibench-adpcmdec-opt
   [1.21284139868, 1.53848327804,],    #pbbs-knn
   [2.3594199181, 3.3453128278,],    #pbbs-mm
 # [1.52379809427, 2.77445313562,],    #quicksort-split
   [2.04685922443, 3.19472562853,],    #quicksort-unified
   [1.21890018374, 2.04343623137,],    #rgb2cmyk
   [0.959618800016, 1.70422428354,],    #rsort
 # [0.981466243859, 1.86294330974,],    #rsort-opt
   [1.16859699293, 2.10208478334,],    #sgemm
   [0.547568180858, 1.47035840087,],    #sha
 # [0.821238261363, 1.48271360067,],    #sha-opt
   [0.665597623636, 1.65547457846,],    #stencil
   [1.51796197368, 2.34489896711,],    #strsearch
   [1.00198751298, 1.86176972825,],    #symm-r
   [1.08406153968, 2.11756146116,],    #symm-u
   [1.09805353319, 1.91614862956,],    #viterbi
   [0.609315570467, 1.7398016343,],    #warshall-m
   [1.85684618716, 1.96059391766,],    #warshall-u



],
[


   [1.4335680966, 2.76700547497,],    #bfs
   [1.01913718039, 1.11134617461,],    #bintree
   [0.959605896096, 1.14861694373,],    #covariance
   [0.948615129717, 1.00757696791,],    #dither-r
 # [1.08858287372, 0.994453742893,],    #dither-r-opt
 # [1.27831657761, 1.77265677938,],    #dither-u
   [0.996576453235, 1.00166069145,],    #dynprog
   [1.15152081602, 1.09019029907,],    #heapsort
   [0.978251271198, 1.24281802285,],    #huffman
   [1.02037255585, 1.58489119325,],    #kmeans
 # [1.10491270069, 1.84130680451,],    #kmeans-opt
   [1.43546018486, 1.97805367339,],    #knapsack-large
   [1.32835422114, 1.86772256966,],    #knapsack-small
   [1.00327099545, 1.02145434936,],    #mibench-adpcmdec
 # [0.993381403751, 1.04466276497,],    #mibench-adpcmdec-opt
   [1.20513889933, 1.51885183306,],    #pbbs-knn
   [2.25156456604, 2.77582252152,],    #pbbs-mm
 # [1.61866458406, 2.58514720329,],    #quicksort-split
   [2.05690774621, 2.39710487015,],    #quicksort-unified
   [1.21005976139, 1.96587737379,],    #rgb2cmyk
   [0.955912006509, 1.02455039428,],    #rsort
 # [0.939451253176, 1.73418624358,],    #rsort-opt
   [1.0968141434, 1.96074305559,],    #sgemm
   [0.850101148937, 1.10135893746,],    #sha
 # [0.931066825825, 1.13889763981,],    #sha-opt
   [0.999048260977, 0.995919159634,],    #stencil
   [1.51470635334, 2.23191960804,],    #strsearch
   [1.0027967913, 1.88243967152,],    #symm-r
   [1.08158075076, 2.07938076242,],    #symm-u
   [1.03928808389, 0.96886614123,],    #viterbi
   [0.992222831775, 1.0052997224,],    #warshall-m
   [1.8439887931, 1.94790760212,],    #warshall-u

],]

opts.plot_idx = 3
opts.xlabel = u'\u0085' + "\n(c) ooo/4+x"
opts.xrange = (0.25, 2.5)

opts.legend_enabled = False

# last plot, so need to set the file name
opts.file_name = "mcpat-eeperf.py.pdf"

tsg_plot.add_plot( opts )
