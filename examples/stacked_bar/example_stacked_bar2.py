import sys
sys.path.extend(['../..'])
import tsg_plot
opts = tsg_plot.PlotOptions()
attribute_dict = \
{'bar_width': 0.7,
 # shreesha: pickeed colors from here http://colorbrewer2.org/
 # selected six levels and diverging data
 #'colors': [ '#8c510a', '#d8b365', '#f6e8c3',
 #           '#c7eae5', '#5ab4ac', '#01665e', '#ffffff' ],

 'colors': [
  '#b35806',
  '#f1a340',
  '#000000',
  '#f7f7f7',
  '#d8daeb',
  '#998ec3',
  '#9ebcda'
  ],

 'hatch': [ " " , "////" , " " , " " , "\\\\\\\\" , "....", "----", " ", " ", " " ],

 'data': [[0.0, 0.23627795845224664, 0.0, 0.0, 0.0, 0.0, 0.0],
          [0.2479791248193133,
           0.036413298541365526,
           0.015573785879216805,
           0.0,
           0.0,
           0.0,
           0.0],
          [0.03586070960777037,
           0.016722230899802855,
           2.302650388975217e-06,
           0.0,
           0.0,
           0.0,
           0.0],
          [0.2689926531479866,
           0.10042911992772717,
           0.01037814809730261,
           0.0,
           0.0,
           0.0,
           0.0],
          [0.01925239220034226, 0.30891410976403383, 0.0, 0.0, 0.0, 0.0, 0.0],
          [0.18116191130972842,
           0.07277906005991258,
           0.04161960418405932,
           0.0,
           0.0,
           0.0,
           0.0],
          [0.005414252586794529,
           0.0038766048521448834,
           0.0,
           0.7044289127585238,
           0.0,
           0.0,
           0.005459461595894264],
          [0.025925533043386018,
           0.018736077224992043,
           0.0014081892436618225,
           0.32483557865704893,
           0.0,
           0.0,
           0.13441444786252255],
          [0.02379903450705062,
           0.016401088103426636,
           0.0,
           0.6653357610965323,
           0.0,
           0.0,
           0.0],
          [0.2847207055196325,
           0.01947408759903807,
           0.02115768809262407,
           0.00011078810897050735,
           0.07203690544920185,
           0.13715757271931667,
           8.522162228500565e-06],
          [0.019845505363894567,
           0.004070409030880837,
           0.0,
           0.6554443982126381,
           0.0,
           0.0,
           0.0],
          [0.2640865541412413,
           0.11850383093771713,
           0.010963430024531236,
           0.0,
           0.0,
           0.0,
           0.0],
          [0.02746701250824776,
           0.00588379435894471,
           0.0,
           0.0,
           0.012884182802959769,
           0.6688598809861288,
           6.587039211954309e-06],
          [0.3373256865376974,
           0.09119210540313068,
           0.029787251794629512,
           0.0,
           0.025261959068993246,
           0.08328040440827547,
           0.0],
          [0.10908088276936052,
           0.037915814866355264,
           0.0,
           0.0,
           0.07072421004164241,
           0.0,
           0.00015166325946542106],
          [0.11290420926403935,
           0.034348895347655534,
           0.0,
           0.0,
           0.009898172801365826,
           0.0,
           0.0],
          [0.060415606860433416,
           0.0015545953606190077,
           0.0003462157161676326,
           0.0,
           0.022688485636710894,
           0.6957151774983593,
           0.0],
          [0.10253684987627511,
           0.1772974018492568,
           0.0,
           0.007258306016794337,
           0.1176909425097245,
           0.0,
           0.0],
          [0.1396630352166202,
           0.0014663035216620217,
           0.0,
           0.7357898403851026,
           0.005586521408664809,
           0.0,
           0.0],
          [0.03230179006904493,
           0.03627790054549909,
           0.0,
           0.0,
           0.008831237179448179,
           0.582541260321985,
           0.0],
          [0.020930166768920924,
           0.007293717344625993,
           0.0,
           0.0,
           0.48021749305672795,
           0.25722000378989057,
           1.0755190496538133e-05],
          [0.04297689917543667,
           0.020853625004076504,
           0.0,
           0.0,
           0.33302283666705124,
           0.2612339418541897,
           0.0001107482139686683],
          [0.0825276789654658,
           0.07269143270396874,
           0.0,
           0.0,
           0.21029098003728433,
           0.0,
           0.0003532821535494636],
          [0.03697770080103919, 0.33369127516778524, 0.0, 0.0, 0.0, 0.0, 0.0],
          [0.0892193514441583, 0.09599291074741768, 0.0, 0.0, 0.0, 0.0, 0.0]],
 'fig': None,
 'figsize': (4, 3),
 'file_name': 'cl-stalls.py.pdf',
 'fontsize': 8,
 'labels': [['rgb2cmyk-uc',
             'sgemm-uc',
             'ssearch-uc',
             'symm-uc',
             'viterbi-uc',
             'war-uc',
             'adpcm-or',
             'covar-or',
             'dither-or',
             'kmeans-or',
             'sha-or',
             'symm-or',
             'dynprog-om',
             'knn-om',
             'ksack-sm-om',
             'ksack-lg-om',
             'war-om',
             'mm-orm',
             'stencil-orm',
             'btree-ua',
             'hsort-ua',
             'huffman-ua',
             'rsort-ua',
             'bfs-uc-db',
             'qsort-uc-db'],
            ['RAW', 'MEM', 'LLFU', 'RD', 'MD', 'LSQ', 'Misc']],
 'labels_fontsize': 8,
 'legend_bbox': (0.0, 0.9, 1.0, 0.1),
 'legend_ncol': 4,
 'normalize_line': None,
 'num_cols': 1,
 'num_rows': 1,
 'paper_mode': True,
 'plot_idx': 1,
 'rotate_labels': True,
 'rotate_labels_angle': -45,
 'plot_type' : 'stacked_bar',
 'scatter_bar_arrow': False,
 'scatter_bar_arrow_minlen': 0.2,
 'show': False,
 'symbols': ['o', 'd', '^', 's', 'p', '*', 'x'],
 'title': 'XLOOPS Stall Breakdowns',
 'xlabel': '',
 'ylabel': 'Ratio of Stalls and Squashes',
 'yrange': [0, 1]}
for name, value in attribute_dict.iteritems():
  setattr( opts, name, value )
tsg_plot.add_plot( opts )
